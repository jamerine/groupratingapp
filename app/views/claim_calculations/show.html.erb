<%= content_tag_for :div, @claim_calculation do %>
  <div class="container">
    <%= render partial: "shared/account_navbar", locals: { object: @account } %>
  </div>

  <%#= link_to 'Return to Policy', policy_calculation_path(@claim_calculation.policy_calculation), class: 'btn btn-default' %>

  <div class="container">
    <div class="jumbotron text-center">
      <div class="row">
         <div class="col-md-3">
           <h5>Claim Number:</h5>
           <h4><%= @claim_calculation.claim_number %></h4>
           <br>
           <h5>Policy Number:</h5>
           <h4><%= @claim_calculation.policy_number %></h4>
           <br>
           <h5>Program:</h5>
           <h4><%= @claim_calculation.policy_calculation.account.account_programs.first.try(:program_type).try(:titleize) || 'N/A' %>&nbsp;</h4>
         </div>
         <div class="col-md-6">
           <h2><%= @claim_calculation.claimant_name.titleize %></h2>
           <p>Injury Type: <%= @claim_calculation.claim_mira_ncci_injury_type %></p>
           <p>Location: <%= @claim_calculation.try(:location_address_line_1).try(:titleize) || 'N/A' %></p><!-- , <%#=  @policy_calculation.location_address_line_2.try(:titleize) %><%#=  @policy_calculation.location_city.try(:titleize) %>, <%#= @policy_calculation.location_state.try(:upcase) %> <%#= @policy_calculation.location_zip_code %></p>-->
           <p>Representative: <%= @claim_calculation.representative_name_and_abbreviation %></p>
         </div>
         <div class="col-md-3">
           <h5>Date of Birth:</h5>
           <h4><%= @claim_calculation.claimant_date_of_birth.try(:strftime, "%b %d, %Y") %></h4>
           <br>
           <h5>Date of Injury:</h5>
           <h4><%= @claim_calculation.claim_injury_date.try(:strftime, "%b %d, %Y") %></h4>
         </div>
      </div>
    </div>
  </div>

  <div class="container text-center">
    <div class="row text-center">
      <h5>Non At Fault</h5>
      <p><%= @claim_calculation.non_at_fault || 'N/A' %></p>
    </div>
  </div>

  <div class="container text-center">
    <div class="row text-center">
      <h2>Settlement</h2>
      <div class="col-md-3 col-sm-4 col-xs-6 ">
        <h5>Is Settled</h5>
        <p><%= @claim_calculation.settled_claim || 'N/A' %></p>
      </div>
      <div class="col-md-3 col-sm-4 col-xs-6 ">
        <h5>Type</h5>
        <p><%= @claim_calculation.settlement_type || 'N/A' %></p>
      </div>
      <div class="col-md-3 col-sm-4 col-xs-6 ">
        <h5>Medical Settlement Date</h5>
        <p><%= @claim_calculation.medical_settlement_date.try(:strftime, "%b %d, %Y") || 'N/A' %></p>
      </div>
      <div class="col-md-3 col-sm-4 col-xs-6 ">
        <h5>Indemnity Settlement Date</h5>
        <p><%= @claim_calculation.indemnity_settlement_date.try(:strftime, "%b %d, %Y") || 'N/A' %></p>
      </div>
    </div>

    <div class="row text-center">
      <h2>Medical</h2>
      <div class="col-md-4 col-sm-4 col-xs-6 ">
        <h5>Amount</h5>
        <p><%= number_to_currency(@claim_calculation.claim_medical_paid, precision: 0) %></p>
      </div>
      <div class="col-md-4 col-sm-4 col-xs-6 ">
        <h5>Last Paid Date</h5>
        <p><%= @claim_calculation.medical_last_paid_date.try(:strftime, "%b %d, %Y") || 'N/A' %></p>
      </div>
      <div class="col-md-4 col-sm-4 col-xs-6 ">
        <h5>Reserve</h5>
        <p><%= number_to_currency(@claim_calculation.claim_mira_medical_reserve_amount, precision: 0) %></p>
      </div>
    </div>

    <div class="row text-center">
      <h2>Indemnity</h2>
      <div class="col-md-4 col-sm-4 col-xs-6 ">
        <h5>Reducible Amount</h5>
        <p><%= number_to_currency(@claim_calculation.claim_mira_reducible_indemnity_paid, precision: 0) %></p>
        <h5>Non Reducible Amount 1</h5>
        <p><%= number_to_currency(@claim_calculation.claim_mira_non_reducible_indemnity_paid, precision: 0) %></p>
        <h5>Non Reducible Amount 2</h5>
        <p><%= number_to_currency(@claim_calculation.claim_mira_non_reducible_indemnity_paid_2, precision: 0) %></p>
      </div>
      <div class="col-md-4 col-sm-4 col-xs-6 ">
        <h5>Last Paid Date</h5>
        <p><%= @claim_calculation.indemnity_last_paid_date.try(:strftime, "%b %d, %Y") || 'N/A' %></p>
      </div>
      <div class="col-md-4 col-sm-4 col-xs-6 ">
        <h5>Reserve</h5>
        <p><%= number_to_currency(@claim_calculation.claim_mira_indemnity_reserve_amount, precision: 0) %></p>
      </div>
    </div>

    <div class="row text-center">
      <h2>Subrogation</h2>
      <div class="col-md-6 col-sm-6 col-xs-12 ">
        <h5>Percentage</h5>
        <p><%= number_to_percentage(@claim_calculation.claim_subrogation_percent * 100, precision: 0) %></p>
      </div>
      <div class="col-md-6 col-sm-6 col-xs-12 ">
        <h5>Amount</h5>
        <p><%= number_to_currency(@claim_calculation.claim_total_subrogation_collected, precision: 0) %></p>
      </div>
    </div>

    <div class="row text-center">
      <h2>Handicap</h2>
      <div class="col-md-6 col-sm-6 col-xs-12 ">
        <h5>Percentage</h5>
        <p><%= number_to_percentage(@claim_calculation.claim_handicap_percent * 100, precision: 0) %></p>
      </div>
      <div class="col-md-6 col-sm-6 col-xs-12 ">
        <h5>Effective Date</h5>
        <p><%= @claim_calculation.claim_handicap_percent_effective_date.try(:strftime, "%b %d, %Y") || 'N/A' %></p>
      </div>
    </div>

    <div class="row text-center">
      <h2>Combined</h2>
      <div class="col-md-6 col-sm-6 col-xs-12 ">
        <h5>Is Combined</h5>
        <p><%= @claim_calculation.claim_combined %></p>
      </div>
      <div class="col-md-6 col-sm-6 col-xs-12 ">
        <h5>Combined into Claim Number</h5>
        <p><%= @claim_calculation.combined_into_claim_number.blank? ? 'N/A' : @claim_calculation.combined_into_claim_number %></p>
      </div>
    </div>
  </div>
<% end %>
